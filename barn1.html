<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<title>B√∏rneordbog 1 (DA‚ÜíRU)</title>
<style>
body { font-family: sans-serif; line-height: 1.6; margin: 20px; }
.word { border: 1px solid #ccc; border-radius: 8px; padding: 12px; margin-bottom: 12px; }
.hidden { display: none; }
input[type="text"] { padding: 5px; margin: 3px; width: 120px; }
button { margin-left: 5px; padding: 5px 10px; }
.correct { background-color: #c8f7c5; } /* –∑–µ–ª—ë–Ω—ã–π */
.wrong { background-color: #f7c5c5; }   /* –∫—Ä–∞—Å–Ω—ã–π */
.wordSpan { margin-right: 3px; }
.speedControl { margin-left: 10px; }
</style>
</head>
<body>
<h2>B√∏rneordbog 1 (DA‚ÜíRU)</h2>
<label><input type="checkbox" id="toggleWords"> Skjul alle ord</label>
<label><input type="checkbox" id="toggleTranslations"> Skjul alle overs√¶ttelser</label>

<div id="wordsContainer"></div>

<script>
const words = [
  { da: "hund", ru: "—Å–æ–±–∞–∫–∞", ex: "Jeg har en ___. / –£ –º–µ–Ω—è –µ—Å—Ç—å —Å–æ–±–∞–∫–∞.", parts: ["hund"] },
  { da: "kat", ru: "–∫–æ—Ç / –∫–æ—à–∫–∞", ex: "Hun har en ___. / –£ –Ω–µ—ë –µ—Å—Ç—å –∫–æ—Ç.", parts: ["kat"] },
  { da: "mor", ru: "–º–∞–º–∞", ex: "Min ___ er s√∏d. / –ú–æ—è –º–∞–º–∞ –¥–æ–±—Ä–∞—è.", parts: ["mor"] },
  { da: "far", ru: "–ø–∞–ø–∞", ex: "Min ___ arbejder. / –ú–æ–π –ø–∞–ø–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç.", parts: ["far"] },
  { da: "mad", ru: "–µ–¥–∞", ex: "Jeg spiser ___. / –Ø –µ–º –µ–¥—É.", parts: ["mad"] },
  { da: "vand", ru: "–≤–æ–¥–∞", ex: "Jeg drikker ___. / –Ø –ø—å—é –≤–æ–¥—É.", parts: ["vand"] },
  { da: "bold", ru: "–º—è—á", ex: "Jeg leger med en ___. / –Ø –∏–≥—Ä–∞—é —Å –º—è—á–æ–º.", parts: ["bold"] },
  { da: "hus", ru: "–¥–æ–º", ex: "Vi bor i et ___. / –ú—ã –∂–∏–≤—ë–º –≤ –¥–æ–º–µ.", parts: ["hus"] },
  { da: "bil", ru: "–º–∞—à–∏–Ω–∞", ex: "Han k√∏rer i en ___. / –û–Ω –µ–¥–µ—Ç –Ω–∞ –º–∞—à–∏–Ω–µ.", parts: ["bil"] },
  { da: "sol", ru: "—Å–æ–ª–Ω—Ü–µ", ex: "___ skinner i dag. / –°–µ–≥–æ–¥–Ω—è —Å–≤–µ—Ç–∏—Ç —Å–æ–ª–Ω—Ü–µ.", parts: ["sol"] },
  { da: "regn", ru: "–¥–æ–∂–¥—å", ex: "Det ___. / –ò–¥—ë—Ç –¥–æ–∂–¥—å.", parts: ["regn"] },
  { da: "sove", ru: "—Å–ø–∞—Ç—å", ex: "Jeg vil ___. / –Ø —Ö–æ—á—É —Å–ø–∞—Ç—å.", parts: ["sove"] },
  { da: "l√∏be", ru: "–±–µ–≥–∞—Ç—å", ex: "B√∏rnene ___ i haven. / –î–µ—Ç–∏ –±–µ–≥–∞—é—Ç –≤ —Å–∞–¥—É.", parts: ["l√∏be"] },
  { da: "lege", ru: "–∏–≥—Ä–∞—Ç—å", ex: "De vil ___. / –û–Ω–∏ —Ö–æ—Ç—è—Ç –∏–≥—Ä–∞—Ç—å.", parts: ["lege"] },
  { da: "ven", ru: "–¥—Ä—É–≥", ex: "Han er min ___. / –û–Ω –º–æ–π –¥—Ä—É–≥.", parts: ["ven"] },
  { da: "bog", ru: "–∫–Ω–∏–≥–∞", ex: "Jeg l√¶ser en ___. / –Ø —á–∏—Ç–∞—é –∫–Ω–∏–≥—É.", parts: ["bog"] },
  { da: "madmor", ru: "–∫–æ—Ä–º–∏–ª–∏—Ü–∞ / –Ω—è–Ω—è", ex: "___ giver mig mad. / –ù—è–Ω—è –¥–∞—ë—Ç –º–Ω–µ –µ–¥—É.", parts: ["madmor"] },
  { da: "sko", ru: "–æ–±—É–≤—å / —Ç—É—Ñ–ª–∏", ex: "Jeg har nye ___. / –£ –º–µ–Ω—è –Ω–æ–≤–∞—è –æ–±—É–≤—å.", parts: ["sko"] },
  { da: "vandmelon", ru: "–∞—Ä–±—É–∑", ex: "Jeg spiser ___. / –Ø –µ–º –∞—Ä–±—É–∑.", parts: ["vandmelon"] },
  { da: "blomst", ru: "—Ü–≤–µ—Ç–æ–∫", ex: "Jeg plukker en ___. / –Ø —Å—Ä—ã–≤–∞—é —Ü–≤–µ—Ç–æ–∫.", parts: ["blomst"] },
  { da: "√¶ble", ru: "—è–±–ª–æ–∫–æ", ex: "Jeg spiser et ___. / –Ø –µ–º —è–±–ª–æ–∫–æ.", parts: ["√¶ble"] },
  { da: "banan", ru: "–±–∞–Ω–∞–Ω", ex: "Hun spiser en ___. / –û–Ω–∞ –µ—Å—Ç –±–∞–Ω–∞–Ω.", parts: ["banan"] },
  { da: "fugl", ru: "–ø—Ç–∏—Ü–∞", ex: "En ___ flyver i himlen. / –ü—Ç–∏—Ü–∞ –ª–µ—Ç–∏—Ç –≤ –Ω–µ–±–µ.", parts: ["fugl"] },
  { da: "ko", ru: "–∫–æ—Ä–æ–≤–∞", ex: "___ giver m√¶lk. / –ö–æ—Ä–æ–≤–∞ –¥–∞—ë—Ç –º–æ–ª–æ–∫–æ.", parts: ["ko"] },
  { da: "gris", ru: "—Å–≤–∏–Ω—å—è", ex: "En ___ bor p√• g√•rden. / –°–≤–∏–Ω—å—è –∂–∏–≤—ë—Ç –Ω–∞ —Ñ–µ—Ä–º–µ.", parts: ["gris"] },
  { da: "hest", ru: "–ª–æ—à–∞–¥—å", ex: "Jeg rider p√• en ___. / –Ø –∫–∞—Ç–∞—é—Å—å –Ω–∞ –ª–æ—à–∞–¥–∏.", parts: ["hest"] },
  { da: "fisk", ru: "—Ä—ã–±–∞", ex: "Jeg ser en ___ i s√∏en. / –Ø –≤–∏–∂—É —Ä—ã–±—É –≤ –æ–∑–µ—Ä–µ.", parts: ["fisk"] },
  { da: "vandkande", ru: "–ª–µ–π–∫–∞", ex: "Jeg h√¶lder vand fra ___ i potten. / –Ø –ø–æ–ª–∏–≤–∞—é –≥–æ—Ä—à–æ–∫ –∏–∑ –ª–µ–π–∫–∏.", parts: ["vandkande"] },
  { da: "stol", ru: "—Å—Ç—É–ª", ex: "S√¶t dig p√• ___. / –°–∞–¥–∏—Å—å –Ω–∞ —Å—Ç—É–ª.", parts: ["stol"] },
  { da: "bord", ru: "—Å—Ç–æ–ª", ex: "Bogen ligger p√• ___. / –ö–Ω–∏–≥–∞ –ª–µ–∂–∏—Ç –Ω–∞ —Å—Ç–æ–ª–µ.", parts: ["bord"] },
  { da: "hat", ru: "—à–ª—è–ø–∞ / —à–∞–ø–∫–∞", ex: "Han har en ___. / –£ –Ω–µ–≥–æ —à–ª—è–ø–∞.", parts: ["hat"] },
  { da: "jakke", ru: "–∫—É—Ä—Ç–∫–∞", ex: "Jeg tager min ___ p√•. / –Ø –Ω–∞–¥–µ–≤–∞—é –∫—É—Ä—Ç–∫—É.", parts: ["jakke"] },
  { da: "skoletaske", ru: "—à–∫–æ–ª—å–Ω–∞—è —Å—É–º–∫–∞", ex: "Min ___ er tung. / –ú–æ—è —à–∫–æ–ª—å–Ω–∞—è —Å—É–º–∫–∞ —Ç—è–∂—ë–ª–∞—è.", parts: ["skoletaske"] },
  { da: "√¶ske", ru: "–∫–æ—Ä–æ–±–∫–∞", ex: "Der er leget√∏j i ___. / –í –∫–æ—Ä–æ–±–∫–µ –∏–≥—Ä—É—à–∫–∏.", parts: ["√¶ske"] },
  { da: "blyant", ru: "–∫–∞—Ä–∞–Ω–¥–∞—à", ex: "Jeg skriver med en ___. / –Ø –ø–∏—à—É –∫–∞—Ä–∞–Ω–¥–∞—à–æ–º.", parts: ["blyant"] },
  { da: "papir", ru: "–±—É–º–∞–≥–∞", ex: "Tegn p√• ___. / –†–∏—Å—É–π –Ω–∞ –±—É–º–∞–≥–µ.", parts: ["papir"] },
  { da: "seng", ru: "–∫—Ä–æ–≤–∞—Ç—å", ex: "Jeg sover i ___. / –Ø —Å–ø–ª—é –≤ –∫—Ä–æ–≤–∞—Ç–∏.", parts: ["seng"] },
  { da: "lampe", ru: "–ª–∞–º–ø–∞", ex: "T√¶nd for ___. / –í–∫–ª—é—á–∏ –ª–∞–º–ø—É.", parts: ["lampe"] },
  { da: "vindue", ru: "–æ–∫–Ω–æ", ex: "Se ud af ___. / –°–º–æ—Ç—Ä–∏ –≤ –æ–∫–Ω–æ.", parts: ["vindue"] },
  { da: "d√∏r", ru: "–¥–≤–µ—Ä—å", ex: "√Öbn ___. / –û—Ç–∫—Ä–æ–π –¥–≤–µ—Ä—å.", parts: ["d√∏r"] },
  { da: "leget√∏j", ru: "–∏–≥—Ä—É—à–∫–∞", ex: "B√∏rnene leger med ___. / –î–µ—Ç–∏ –∏–≥—Ä–∞—é—Ç —Å –∏–≥—Ä—É—à–∫–æ–π.", parts: ["leget√∏j"] },
  { da: "is", ru: "–º–æ—Ä–æ–∂–µ–Ω–æ–µ", ex: "Jeg spiser ___. / –Ø –µ–º –º–æ—Ä–æ–∂–µ–Ω–æ–µ.", parts: ["is"] },
  { da: "kage", ru: "—Ç–æ—Ä—Ç / –ø–∏—Ä–æ–≥", ex: "Vi spiser en ___. / –ú—ã –µ–¥–∏–º —Ç–æ—Ä—Ç.", parts: ["kage"] },
  { da: "vandpistol", ru: "–≤–æ–¥—è–Ω–æ–π –ø–∏—Å—Ç–æ–ª–µ—Ç", ex: "Han leger med en ___. / –û–Ω –∏–≥—Ä–∞–µ—Ç —Å –≤–æ–¥—è–Ω—ã–º –ø–∏—Å—Ç–æ–ª–µ—Ç–æ–º.", parts: ["vandpistol"] },
  { da: "ballon", ru: "—à–∞—Ä–∏–∫", ex: "Jeg har en ___. / –£ –º–µ–Ω—è –µ—Å—Ç—å —à–∞—Ä–∏–∫.", parts: ["ballon"] },
  { da: "klovn", ru: "–∫–ª–æ—É–Ω", ex: "___ laver sjov. / –ö–ª–æ—É–Ω —à—É—Ç–∏—Ç.", parts: ["klovn"] },
  { da: "solhat", ru: "—Å–æ–ª–Ω–µ—á–Ω–∞—è —à–ª—è–ø–∞", ex: "Jeg har en ___. / –£ –º–µ–Ω—è –µ—Å—Ç—å —Å–æ–ª–Ω–µ—á–Ω–∞—è —à–ª—è–ø–∞.", parts: ["solhat"] },
  { da: "tandb√∏rste", ru: "–∑—É–±–Ω–∞—è —â—ë—Ç–∫–∞", ex: "Jeg b√∏rster med ___ hver dag. / –Ø —á–∏—â—É –∑—É–±—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.", parts: ["tandb√∏rste"] },
  { da: "sok", ru: "–Ω–æ—Å–æ–∫", ex: "Jeg tager en ___ p√•. / –Ø –Ω–∞–¥–µ–≤–∞—é –Ω–æ—Å–æ–∫.", parts: ["sok"] },
  { da: "handske", ru: "–ø–µ—Ä—á–∞—Ç–∫–∞", ex: "Jeg tager en ___ p√•. / –Ø –Ω–∞–¥–µ–≤–∞—é –ø–µ—Ä—á–∞—Ç–∫—É.", parts: ["handske"] },
  { da: "paraply", ru: "–∑–æ–Ω—Ç", ex: "Tag en ___ med, hvis det regner. / –í–æ–∑—å–º–∏ –∑–æ–Ω—Ç, –µ—Å–ª–∏ –∏–¥—ë—Ç –¥–æ–∂–¥—å.", parts: ["paraply"] },
  { da: "frugt", ru: "—Ñ—Ä—É–∫—Ç—ã", ex: "Jeg spiser ___ hver dag. / –Ø –µ–º —Ñ—Ä—É–∫—Ç—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.", parts: ["frugt"] },
  { da: "gr√∏n", ru: "–∑–µ–ª—ë–Ω—ã–π", ex: "Gr√¶sset er ___. / –¢—Ä–∞–≤–∞ –∑–µ–ª—ë–Ω–∞—è.", parts: ["gr√∏n"] },
  { da: "r√∏d", ru: "–∫—Ä–∞—Å–Ω—ã–π", ex: "√Üblet er ___. / –Ø–±–ª–æ–∫–æ –∫—Ä–∞—Å–Ω–æ–µ.", parts: ["r√∏d"] },
  { da: "bl√•", ru: "—Å–∏–Ω–∏–π", ex: "Himlen er ___. / –ù–µ–±–æ —Å–∏–Ω–µ–µ.", parts: ["bl√•"] }
];



const container = document.getElementById("wordsContainer");

words.forEach((w, idx) => {
  const div = document.createElement("div");
  div.className = "word";

  const da = document.createElement("div");
  da.className = "daWord";
  da.textContent = "DA: " + w.da;

  const ru = document.createElement("div");
  ru.className = "ruWord";
  ru.textContent = "RU: " + w.ru;

  const exDiv = document.createElement("div");

  if (w.da.includes("...") && w.parts.length === 2) {
    const exParts = w.ex.split("___");
    
    const span1 = document.createElement("span");
    span1.textContent = exParts[0];
    exDiv.appendChild(span1);

    const input1 = document.createElement("input");
    input1.type = "text";
    input1.dataset.word = w.parts[0].toLowerCase();
    input1.className = "wordPart";
    exDiv.appendChild(input1);

    const spanMid = document.createElement("span");
    spanMid.textContent = exParts[1];
    exDiv.appendChild(spanMid);

    const input2 = document.createElement("input");
    input2.type = "text";
    input2.dataset.word = w.parts[1].toLowerCase();
    input2.className = "wordPart";
    exDiv.appendChild(input2);

    const spanEnd = document.createElement("span");
    spanEnd.textContent = exParts[2] ? exParts[2] : "";
    exDiv.appendChild(spanEnd);

  } else {
    let partIdx = 0;
    w.ex.split(" ").forEach(word => {
      if (word.includes("___")) {
        const wordsArray = w.parts[partIdx].split(" ");
        wordsArray.forEach(wPart => {
          const input = document.createElement("input");
          input.type = "text";
          input.dataset.word = wPart.toLowerCase();
          input.className = "wordPart";
          exDiv.appendChild(input);
          exDiv.appendChild(document.createTextNode(" "));
        });
        partIdx++;
      } else {
        const span = document.createElement("span");
        span.textContent = word;
        span.className = "wordSpan";
        span.dataset.word = word.replace(/[.,!?]/g, "").toLowerCase();
        exDiv.appendChild(span);
        exDiv.appendChild(document.createTextNode(" "));
      }
    });
  }

  // –∫–Ω–æ–ø–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
  const checkBtn = document.createElement("button");
  checkBtn.textContent = "Tjek";
  checkBtn.onclick = () => {
    const inputs = exDiv.querySelectorAll("input");
    let allCorrect = true;
    inputs.forEach(inp => {
      const correctWords = inp.dataset.word.toLowerCase().split(" ");
      const userWords = inp.value.trim().toLowerCase().split(" ");
      const isCorrect = correctWords.length === userWords.length &&
                        correctWords.every((w,i)=>w===userWords[i]);
      if(isCorrect){
        inp.classList.add("correct");
        inp.classList.remove("wrong");
      } else {
        inp.classList.add("wrong");
        inp.classList.remove("correct");
        allCorrect = false;
      }
    });
    const result = document.createElement("div");
    result.className = allCorrect ? "correct" : "wrong";
    result.textContent = allCorrect ? "Korrekt!" : "Forkert!";
    exDiv.appendChild(result);
    setTimeout(()=>result.remove(),1500);
  };

  // –∫–Ω–æ–ø–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞
  const micBtn = document.createElement("button");
  micBtn.textContent = "üéôÔ∏è L√¶s h√∏jt";
  micBtn.onclick = () => {
    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    recognition.lang = "da-DK";
    recognition.interimResults = false;
    recognition.start();
    recognition.onresult = event => {
      const spoken = event.results[0][0].transcript.toLowerCase();
      exDiv.querySelectorAll("span, input").forEach(el => {
        const word = el.dataset.word;
        if(word && spoken.includes(word)){
          el.classList.add("correct");
          el.classList.remove("wrong");
        } else if(word){
          el.classList.add("wrong");
          el.classList.remove("correct");
        }
      });
    };
    recognition.onerror = err => console.error("SpeechRecognition error:", err);
  };

  // –∫–Ω–æ–ø–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
  const playOrigBtn = document.createElement("button");
  playOrigBtn.textContent = "‚ñ∂Ô∏è H√∏r original";
  
  const speedWrapper = document.createElement("div");
  speedWrapper.style.display = "flex";
  speedWrapper.style.alignItems = "center";
  speedWrapper.style.gap = "6px";

  const speedSlider = document.createElement("input");
  speedSlider.type = "range";
  speedSlider.min = "0.5";
  speedSlider.max = "1.5";
  speedSlider.step = "0.1";
  speedSlider.value = "1";
  speedSlider.className = "speedControl";

  const speedLabel = document.createElement("span");
  speedLabel.textContent = speedSlider.value + "x";
  speedLabel.style.fontSize = "0.9em";
  speedLabel.style.color = "#444";

  speedSlider.addEventListener("input", () => {
    speedLabel.textContent = speedSlider.value + "x";
  });

  playOrigBtn.onclick = () => {
    // –±–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ –¥–∞—Ç—Å–∫—É—é —á–∞—Å—Ç—å (–¥–æ /, –µ—Å–ª–∏ –µ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥)
    const daExample = w.ex.split("/")[0].trim();
    const utterance = new SpeechSynthesisUtterance(
      daExample.replace(/___/g, () => w.parts.join(" "))
    );
    utterance.lang = "da-DK";
    utterance.rate = parseFloat(speedSlider.value);
    window.speechSynthesis.speak(utterance);
  };

  // —Å–æ–±–∏—Ä–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã
  div.appendChild(da);
  div.appendChild(ru);
  div.appendChild(exDiv);
  div.appendChild(checkBtn);
  div.appendChild(micBtn);
  div.appendChild(playOrigBtn);

  speedWrapper.appendChild(speedSlider);
  speedWrapper.appendChild(speedLabel);
  div.appendChild(speedWrapper);

  container.appendChild(div);
});

// –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
document.getElementById("toggleWords").onchange = e => {
  document.querySelectorAll(".daWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
document.getElementById("toggleTranslations").onchange = e => {
  document.querySelectorAll(".ruWord").forEach(d => d.classList.toggle("hidden", e.target.checked));
};
</script>
</body>
</html>
